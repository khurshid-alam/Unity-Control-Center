Tue Jan 21 01:15:14 2003  Jonathan Blandford  <jrb@gnome.org>

	* Release 2.2.0

2003-01-19  Alex Duggan  <aldug@astrolinux.com>

	* gnome-settings-mouse.c (filter), (set_locate_pointer):
	make the right control key also locate the mouse pointer.
	Fixes #87426

Thu Jan 16 02:41:09 2003  Jonathan Blandford  <jrb@gnome.org>

	* Release 2.1.7

2003-01-10  Jody Goldberg <jody@gnome.org>

	* Release 2.1.6

2002-12-18  Jody Goldberg <jody@gnome.org>

	* Release 2.1.5

2002-11-23  Jody Goldberg <jody@gnome.org>

	* Release 2.1.3

2002-11-08  Mark McLoughlin  <mark@skynet.ie>

	Create a XSettingsManager for every available
	screen and apply settings changes to each.

	* gnome-settings-daemon.c:
	(manager_event_filter): make this a per-window filter
	and ask the appropriate xsettings manager to filter
	the event.
	(finalize): dispose of every manager.
	(gnome_settings_daemon_new): create a settings manager
	for each screen.

	* gnome-settings-xsettings.c:
	(translate_bool_int), (translate_int_int),
	(translate_string_string), (process_value),
	(xsettings_callback), (xft_callback),
	(gnome_xft_settings_set_xsettings),
	(gnome_settings_xsettings_load): apply settings to
	every available settings manager.

2002-11-02  Jody Goldberg <jody@gnome.org>

	* Release 2.1.2

2002-10-31  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c
	(gnome_settings_accessibility_keyboard_init) : register the gconf
	  handler early.
	(gnome_settings_accessibility_keyboard_load) : not here where it is
	  too late.

2002-10-26  Havoc Pennington  <hp@pobox.com>

	* gnome-settings-wm.c, gnome-settings-wm.h: blow this away

	* gnome-settings-daemon.c: don't init WM stuff

Sun Oct 27 09:00:46 2002  Jonathan Blandford  <jrb@gnome.org>

	* gnome-settings-xsettings.c: add Gtk/CanChangeAccels to xsettings

2002-10-21  Jody Goldberg <jody@gnome.org>

	* Release 2.1.1

2002-02-07  Anders Carlsson  <andersca@gnu.org>

        * gdk/x11/xsettings-common.c (xsettings_setting_free): Free
        the setting name.

2002-10-20  Mark McLoughlin  <mark@skynet.ie>

	* factory.c: (main): don't connect to the session manager.

2002-10-18 Erwann Chenede - <erwann.chenede@sun.com>

        * gnome-settings-keybindings.c
	(screen_exec_display_string) : added function to get display 
				       string from an XEvent.
        (keybindings_filter) : set a fully qualified DISPLAY env variable
			       when spawing a keybinding action.

2002-10-08  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=91535
	* gnome-settings-sound.c : as michael points out it is silly to start
	  the daemon just so that we can stop it.  Dunno much about esound
	  code so the funky logic is left untouched.

2002-10-08  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=95179
	* gnome-settings-accessibility-keyboard.c
	(gnome_settings_accessibility_keyboard_init) : do nothing here.
	(gnome_settings_accessibility_keyboard_load) : install the filter
	  here, _after_ loading the gconf settings.
	(set_gconf_from_server) : check to see if anything has actually
	  changed before sending off the changeset.

2002-10-01  Jody Goldberg <jody@gnome.org>

	* Release 2.1.0.1

Tue Sep 24 15:47:29 2002  HideToshi Tajima  <hidetoshi.tajima@sun.com>

	disable/enable preedit/status in GtkIMContextXIM (#59076)
	
	* gnome-settings-xsettings.c: added two new xsettings
	for GTK+ input method preedit and status styles.

	With the other patch for gtk+, the preedit and status styles of
	GTK+ input method are configurable with associated gconf schemas
	keys:
	"/desktop/gnome/interface/gtk-im-preedit-style"
	"/desktop/gnome/interface/gtk-im-status-style"

	Both are set to "callback" by default, and platform's 
	packging can have different default by changing
	libgnome's desktop_gnome_interface.schemas.

2002-09-11  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) :
	  set the timeout options fully.

2002-09-10  Jody Goldberg <jody@gnome.org>

	* gnome-settings-wm.c (gnome_settings_wm_load) : protect against NULL.

2002-09-09  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=91223
	* gnome-settings-wm.c (gnome_settings_wm_load) : add some valdation to
	ensure that we don't set the number of workspaces to 0
	(which pisses off kde).  Also apply fcrozat's patch to restore the
	names.

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) :
	  the feature beep is not related the the feature timeout.

2002-08-21  Jody Goldberg <jody@gnome.org>

	* Release 2.1.0

2002-08-15  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=90778
	* gnome-settings-accessibility-keyboard.c (set_gconf_from_server) :
	  Add a heuristic so that we do not disable features in gconf just
	  because they are disabled in the X server.  If the master switch is
	  already disabled in gconf we can guess that most of the time it
	  means that people want to keep their flags.

2002-08-14  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=90778
	* gnome-settings-default-editor.c (vfs_change_cb) : be more careful

2002-08-07  Michael Meeks  <michael@ximian.com>

	* gnome-settings-sound.c (stop_esd): flag that
	we scuppered the remote daemon.
	(apply_settings): resume it if we killed it,
	don't kill it more than once.
	Don't iterate over all the sounds and try to
	push to the server if we have sound disabled,
	saves a chunk of time.
	This fixes the 'toggle sound a lot breaks it' bug.

2002-08-03  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=88634
	* gnome-settings-mouse.c (set_left_handed) : merge in a variant of the
	  proposed patch.

2002-07-27  Mark McLoughlin  <mark@skynet.ie>

	Add multiscreen support for background rendering.

	* gnome-settings-background.c:
	(background_callback): apply prefs to all screens.
	(gnome_settings_background_init): create a BGApplier for
	each screen.
	(gnome_settings_background_load): apply prefs to all
	screens.

2002-07-22  jacob berkman  <jacob@ximian.com>

	* gnome-settings-background.c (gnome_settings_background_load): if
	nautilus is drawing the desktop, just return

2002-06-19  jacob berkman  <jacob@ximian.com>

	* Makefile.am: fix build

2002-06-17  Jody Goldberg <jody@gnome.org>

	* Release 2.0.0

2002-06-17  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=85327
	* gnome-settings-xsettings.c (translate_string_string) : These strings
	  do look wrong.  The capplet is setting the keys from the schema.
	  we were not mapping them to the write xsettings.  It did not really
	  matter because we were not using xsettings to communicate these
	  values.

2002-06-10  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) :
	  add some bounds checking.

2002-06-06  Kjartan Maraas  <kmaraas@gnome.org>

	* gnome-settings-keybindings.c: Make the last string consistent
	with the rest in this file.
	
2002-06-06 Erwann Chenede - <erwann.chenede@sun.com>

       * gnome-settings-keybindings.c (keybindings_filter) :
         do not quit gnome-settings-daemon when pressing Ok 
	 when the warning dialog appears. fix bug #84364
	 Added localization hooks.
	 
2002-05-30  Jody Goldberg <jody@gnome.org>

	* gnome-settings-keyboard.c (xkb_set_keyboard_autorepeat_rate) : Add
	  some bounds checking.

Wed May 29 20:23:13 2002  Jonathan Blandford  <jrb@redhat.com>

	* Makefile.am: Add gnome-settings-keybinding
	* gnome-settings-daemon.c: (gnome_settings_daemon_new): initialize
	keybindings support
	* gnome-settings-keybindings.[ch]: Patch to add support for custom
	keybindings.  Thanks to Erwann Chenede <Erwann.Chenede@sun.com>
	for the patch.

2002-05-22  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) :
	  disable some debug spew.
	(set_gconf_from_server) : ditto.

2002-05-22  jacob berkman  <jacob@ximian.com>

	* gnome-settings-font.c (load_cursor): run the mkfontdir command
	synchronously to avoid a possible race.  extra precaution for
	#78023

	* gnome-settings-daemon.c (gnome_settings_daemon_new): run
	background settings after everything else, as some of those spawn
	processes (xscreensaver) and background settings nices itself

	should fix #78742

	* factory.c (main): quit when we get the die signal from the SM

2002-05-16  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=80325
	* gnome-settings-keyboard.c (apply_settings) : although we may not be
	  able to support the autorepeat rate setting we can enable/disable
	  autorepeat.

2002-05-16  jacob berkman  <jacob@ximian.com>

	* gnome-settings-keyboard.c (apply_settings): load from the
	correct key for whether the bell should be on or not
	(apply_settings): pass the right flags to XChangeKeyboardControl()

	fixes #78016 and 78015

	* Makefile.am:
	* gnome-settings-default-editor.[ch]: keep text/plain and text*
	using the same mime type (#78037)

	* gnome-settings-daemon.c (gnome_settings_daemon_new): load editor
	and keyboard settings (bugs #78037 and #78016)

Tue May 14 14:50:34 2002  Jonathan Blandford  <jrb@redhat.com>

	* gnome-settings-*.c: Remove all debug print statements, #76085

Mon May 13 17:05:22 2002  Jonathan Blandford  <jrb@redhat.com>

	* gnome-settings-font.c (load_cursor): s/.gnome/.gnome2/g

2002-05-12  Anders Carlsson  <andersca@gnu.org>

	* gnome-settings-xsettings.c:
	Watch the dnd threshold xsetting.
	
2002-04-30  Kjartan Maraas  <kmaraas@gnome.org>

	* factory.c: Add calls to bindtext* for i18n.
	* Makefile.am: Add -DGNOMELOCALEDIR="\".....\""
	* gnome-settings-font.c: Mark strings and add #includes.
	* gnome-settings-screensaver.c: Same
	* gnome-settings-sound.c: Same.
	* gnome-settings-xsettings.c: Same.
	* gnome-settings-wm.c: Fix a warning.
	
2002-04-24  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) :
	  max speed is in pixels per _event_ not relative to time.  double
	  check that we don't set 0.

2002-04-24  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c
	(gnome_settings_accessibility_keyboard_init) : we're only interested
	  in control changes.
	(set_gconf_from_server) : set both XkbAccessXKeysMask|XkbAccessXFeedbackMask
	  when we enable accessX, and fix typo.

2002-04-23  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c (get_xkb_desc_rec) :
	  suppress warning.

2002-04-17  Rachel Hestilow  <hestilow@ximian.com>

	* GNOME_SettingsDaemon.server.in: s/gnome2/gnome

Tue Apr 16 17:09:02 2002  Jonathan Blandford  <jrb@redhat.com>

	* factory.c (main): Patch from Akira Tagoh <tagoh@gnome-db.org> to
	change the restart command from gnome2-settings-daemon to
	gnome-settings-daemon.

2002-04-12  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) :
	  Doh! We need to clear the flags if they are disabled.

2002-04-11  jacob berkman  <jacob@ximian.com>

	* gnome-settings-accessibility-keyboard.c: only do xkb calls if
	xkb is present (better fix for previous commit)

2002-04-11  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) : be
	  even more anal.

2002-04-10  Jody Goldberg <jody@gnome.org>

	* Makefile.am (gnome_settings_daemon_LDADD) : remove XF86MISC_LIBS

2002-04-01  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=77203
	* gnome-settings-accessibility-keyboard.c (set_gconf_from_server) : be
	  more anal about server failure.
	(set_server_from_gconf) : ditto.

2002-03-30  Jody Goldberg <jody@gnome.org>

	* gnome-settings-xsettings.c (translations) : reorder to match gdk.
	  This simplifies maintenance.

Tue Apr  9 11:58:10 2002  Jonathan Blandford  <jrb@gnome.org>

	* Makefile.am: Add commented out disk support until I finish the code.

2002-04-04  jacob berkman  <jacob@ximian.com>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf):
	prefer gdk_flush() to XFlush() (fixes bug #77208)

2002-03-29  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c
	(gnome_settings_accessibility_keyboard_init) : get really anal about
	  potential X errors.
	(set_gconf_from_server) : ditto.

2002-03-29  Jody Goldberg <jody@gnome.org>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) :
	  Add a gdk_error_trap just in case.

	* gnome-settings-keyboard.c (apply_settings) : don't init things to
	  bogus values unless it is ncessary.  Add a gdk_error_trap around the
	  X settings to avoid causing the server to exit if something goes
	  wrong.  Be sure to flush before we pop the handler.

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf) :
	  fix spelling error in schema.

	* gnome-settings-font.c (load_cursor) : add missing NULL terminator.

	* gnome-settings-keyboard.c (apply_settings) : click volume is an
	  integer from 0..100, schema is an int too.  Remove float and double
	  and add some bounds checking.

	* gnome-settings-accessibility-keyboard.c : make the debug spew optional
	(set_server_from_gconf) : typo that only applied settings when we
	  shouldn't.
	(set_server_from_gconf) : set the mouse key accel flag when mk is
	  enabled so that we can actually set the accel parms.  How did this
	  work in X11R6 ?
	(set_server_from_gconf) : scale mk_time_to_max by mk_interval so that
	  it is actually in msec.
	(set_gconf_from_server) : do the inverse here.

2002-03-28  jacob berkman  <jacob@ximian.com>

	* gnome-settings-accessibility-keyboard.c (set_server_from_gconf):
	fix a typo

Thu Mar 28 09:18:40 2002  Jonathan Blandford  <jrb@redhat.com>

	* gnome-settings-daemon.c: somehow the font settings were
	removed.  Re add.

2002-03-26  jacob berkman  <jacob@ximian.com>

	* gnome-settings-screensaver.[ch]
	(gnome_settings_screensaver_load): start xscreensaver, and display
	an error dialog if it failed

	* gnome-settings-daemon.c (gnome_settings_daemon_new): init/load
	screensaver

2002-03-25  jacob berkman  <jacob@ximian.com>

	* factory.c (main): tell the SM to restart us only after we know
	we're unique with bonobo-activation

2002-03-17  Jonathan Blandford  <jrb@redhat.com>

	* gnome-settings-xsettings.c: Add keybindingtheme

2002-03-17  Kjartan Maraas  <kmaraas@gnome.org>

	* factory.c: Move include <config.h> to the top.
	
2002-03-13  jacob berkman  <jacob@ximian.com>

	* gnome-settings-daemon.c (_GnomeSettingsDaemonPrivate): add a
	dummy field
	(gnome_settings_daemon_register_callback): cast functions to
	gpointers as forte does not like this (bug #74349)

2002-03-07  Lauris Kaplinski  <lauris@ximian.com>

	* gnome-settings-keyboard.c (apply_settings): Use correct GConf keys,
	click volume is of type float, not int

2002-03-10  Seth Nickell  <snickell@stanford.edu>

	* GNOME_SettingsDaemon.server.in:

	Dum de dum. Forgot to cvs add.

2002-03-10  Seth Nickell  <snickell@stanford.edu>

        Make the settings daemon a singleton BonoboObject so capplets
	can detect whether its running and activate it if its not.
	
	* Makefile.am:
	* factory.c: (main):
	* gnome-settings-daemon.c: (awake_impl), (finalize),
	(gnome_settings_daemon_class_init), (gnome_settings_daemon_init),
	(gnome_settings_daemon_new):
	* gnome-settings-daemon.h:

	Convert the settings-daemon into a BonoboObject and add code to
	register it with bonobo-activation. Still has a main loop that can
	be run normally to launch the settings daemon.
	
2002-03-06  Miles Lane  <miles@megapathdsl.net>

	* gnome-settings-daemon.c -- Correct the gnome_program_init()
	  call to specify the correct program name.  Specify the
	  restart command, so that the session manager knows how
	  to restart the daemon if it is killed for any reason.

2002-03-04  Anders Carlsson  <andersca@gnu.org>

	* Makefile.am:
	* gnome-settings-daemon.c: (main):
	* gnome-settings-wm.c: (set_number_of_workspaces),
	(set_workspace_names), (wm_callback), (gnome_settings_wm_init),
	(gnome_settings_wm_load):
	* gnome-settings-wm.h:
	Add support for bridging WM settings, currently supports
	_NET_NUMBER_OF_DESKTOPS and _NET_DESKTOP_NAMES.
	
Tue Feb 19 23:53:06 2002  Jonathan Blandford  <jrb@redhat.com>

	* gnome-settings-font.c: set the font path and handle cursors.

2002-02-13  Lauris Kaplinski  <lauris@ximian.com>

	* gnome-settings-xsettings.c: #include <string.h> to kill warning

Tue Feb 12 01:34:19 2002  Jonathan Blandford  <jrb@redhat.com>

	* gnome-settings-daemon.c (main): add session management.

2002-02-10  Richard Hestilow  <hestilow@ximian.com>

	* gnome-settings-xsettings.c: Added font setting.

2002-02-04  Lauris Kaplinski  <lauris@ximian.com>

	* gnome-settings-locate-pointer.c (locate_pointer_expose): Return
	FALSE on default case, instead of nothing
	(setup_window): Replace deprecated methods

	* gnome-settings-sound.c (reload_foreach_cb): Replace deprecated
	methods

2002-01-13  Seth Nickell  <snickell@stanford.edu>

	reviewed by: <delete if not using a buddy>

	* Makefile.am:

2002-01-28  Richard Hestilow  <hestilow@ximian.com>

	* Link to libbackground.la.
	
2002-01-21  Anders Carlsson  <andersca@gnu.org>

	* gnome-settings-xsettings.c: Add support for changing themes.

Mon Jan 21 01:29:57 2002  Jonathan Blandford  <jrb@redhat.com>

	* gnome-settings-keyboard.c: Move locate_pointer out.

	* gnome-settings-mouse.c: Move locate_pointer in.  Clean up code.
	Remove print statements.

2002-01-14  Bradford Hovinen  <hovinen@ximian.com>

	* Makefile.am (INCLUDES): Added missing -I$(top_srcdir)
	(bin_PROGRAMS): Rename binary gnome2-settings-daemon

	* gnome-settings-daemon.c (main): Enable code to load settings;
	call gnome_settings_background_load too

	* gnome-settings-background.c (gnome_settings_background_init):
	Use the correct key to register the callback

Wed Jan  9 21:22:30 2002  Jonathan Blandford  <jrb@redhat.com>

	* gnome-settings-keyboard.c (filter): weee!  locate_cursor works
	now!!!!
	* gnome-settings-locate-pointer: speed up animation.

2002-01-09  Anders Carlsson  <andersca@gnu.org>

	* gnome-settings-daemon.c (main): Call gconf_client_add_dir.

Tue Jan  8 15:50:59 2002  Jonathan Blandford  <jrb@redhat.com>

	* Makefile.am: Add locate-pointer.
	* gnome-settings-keyboard.c: Initial attempt at locate-pointer.
	Don't understand XKB enough to figure it out.
	* gnome-settings-locate-pointer.[ch]: Draw the locate pointer
	box.  Pretty snazzy for a useless (but fun) feature.
	* gnome-settings-mouse.c:  Move locate pointer to it's own file.

2002-01-08  Richard Hestilow  <hestilow@ximian.com>

	* gnome-settings-daemon.c (main): Initialize libgnomeui,
	and load sounds.

	* gnome-settings-sound.c (stop_esd): Just tell esd to let go
	of /dev/dsp.

2002-01-04  Bradford Hovinen  <hovinen@ximian.com>

	* all: Convert from GConfEngine to GConfClient

2001-01-04  Richard Hestilow  <hestilow@ximian.com>

	* gnome-settings-sound.[ch]: Added.
	
	* Makefile.am: Add gnome-settings-sound sources, link to libsounds.

	* gnome-settings-daemon.c: Call gnome_settings_sound_init.
	
2001-12-20  Bradford Hovinen  <hovinen@ximian.com>

	* All: Eliminate compiler warnings

	* gnome-settings-daemon.h: Use __GNOME_SETTINGS_DAEMON_H for the
	enclosing macro

	* gnome-settings-background.c: Update

2001-12-19  Bradford Hovinen  <hovinen@ximian.com>

	* Makefile.am
	(gnome_settings_daemon_SOURCES): Add
	gnome-settings-{keyboard|background}.[ch]
	(INCLUDES): Add -I$(top_srcdir)/libbackground
	(gnome_settings_daemon_LDADD): Add
	$(top_builddir)/libbackground/libbackground.a

	* gnome-settings-daemon.c (main): Initialize keyboard and
	background subsystems
